const _0x58bcf7=_0x2bd0;(function(_0x5cc88c,_0x5ab216){const _0x311c8e=_0x2bd0,_0x5d920d=_0x5cc88c();while(!![]){try{const _0x2cc7c5=-parseInt(_0x311c8e(0x1bb))/0x1+-parseInt(_0x311c8e(0x1c6))/0x2+parseInt(_0x311c8e(0x1b1))/0x3*(parseInt(_0x311c8e(0x1b2))/0x4)+-parseInt(_0x311c8e(0x1c8))/0x5*(-parseInt(_0x311c8e(0x1c3))/0x6)+-parseInt(_0x311c8e(0x1b4))/0x7+-parseInt(_0x311c8e(0x1cb))/0x8+parseInt(_0x311c8e(0x1b8))/0x9;if(_0x2cc7c5===_0x5ab216)break;else _0x5d920d['push'](_0x5d920d['shift']());}catch(_0x4bc592){_0x5d920d['push'](_0x5d920d['shift']());}}}(_0x1d37,0xd0ab6));function _0x2bd0(_0x424493,_0x1303e7){const _0x1d3788=_0x1d37();return _0x2bd0=function(_0x2bd0f2,_0x2154b2){_0x2bd0f2=_0x2bd0f2-0x1ad;let _0x5977bb=_0x1d3788[_0x2bd0f2];return _0x5977bb;},_0x2bd0(_0x424493,_0x1303e7);}const mongoose=require(_0x58bcf7(0x1c1)),{Pool}=require('pg');function _0x1d37(){const _0x3a1a71=['data','test','Schema','commit','INSERT\x20INTO\x20database\x20VALUES($1,$2)','insert','save','findOne','33bmujoq','236476CMNthY','UPDATE\x20database\x20SET\x20data\x20=\x20$1\x20WHERE\x20id\x20=\x20$2','596008RshfqP','model','execute','connection','10905066HAoymT','update','findById','866182ratQHX','database','_id','exports','sql','env','mongoose','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20database(id\x20integer,\x20data\x20json)','6LeJsCs','query','SELECT\x20data\x20FROM\x20database\x20WHERE\x20id\x20=\x20$1','2471800gRmPlY','rowCount','7046855gLBSCo','DATABASE_URL','rows','1835344ZOWVyf','fetch'];_0x1d37=function(){return _0x3a1a71;};return _0x1d37();}if(/mongo/[_0x58bcf7(0x1ce)](process[_0x58bcf7(0x1c0)]['DATABASE_URL']))module['exports']=class MongoDB{['options']={'useNewUrlParser':!![],'useUnifiedTopology':!![]};[_0x58bcf7(0x1b7)]=process['env'][_0x58bcf7(0x1c9)];[_0x58bcf7(0x1b5)]={'database':{}};['data']={};[_0x58bcf7(0x1cc)]=async()=>{const _0x5e3399=_0x58bcf7;mongoose['connect'](this[_0x5e3399(0x1b7)],{...this['options']});try{const _0x17132c=new mongoose[(_0x5e3399(0x1cf))]({'data':{'type':Object,'required':!![],'default':{}}});this['model']['database']=mongoose[_0x5e3399(0x1b5)](_0x5e3399(0x1cd),_0x17132c);}catch{this['model'][_0x5e3399(0x1bc)]=mongoose[_0x5e3399(0x1b5)]('data');}this['data']=await this[_0x5e3399(0x1b5)][_0x5e3399(0x1bc)][_0x5e3399(0x1b0)]({});if(!this[_0x5e3399(0x1cd)])return new this['model'][(_0x5e3399(0x1bc))]({'data':{}})[_0x5e3399(0x1af)](),this['data']=await this['model'][_0x5e3399(0x1bc)][_0x5e3399(0x1b0)]({}),this['data'][_0x5e3399(0x1cd)];else return this[_0x5e3399(0x1cd)][_0x5e3399(0x1cd)];};[_0x58bcf7(0x1af)]=async _0x473be9=>{const _0x1bf567=_0x58bcf7,_0x3af502=_0x473be9?_0x473be9:global['db'];if(this[_0x1bf567(0x1cd)]&&!this['data'][_0x1bf567(0x1cd)])return new this[(_0x1bf567(0x1b5))]['database']({'data':_0x3af502})[_0x1bf567(0x1af)]();this['model']['database'][_0x1bf567(0x1ba)](this[_0x1bf567(0x1cd)][_0x1bf567(0x1bd)],(_0x1dc1fb,_0x2c8994)=>{const _0xfc6eec=_0x1bf567;if(_0x1dc1fb)return;if(!_0x2c8994[_0xfc6eec(0x1cd)])_0x2c8994[_0xfc6eec(0x1cd)]={};_0x2c8994[_0xfc6eec(0x1cd)]=global['db'],_0x2c8994['save']();});};};else/postgres/[_0x58bcf7(0x1ce)](process[_0x58bcf7(0x1c0)]['DATABASE_URL'])&&(module[_0x58bcf7(0x1be)]=class Postgres{[_0x58bcf7(0x1bf)]=new Pool({'connectionString':process[_0x58bcf7(0x1c0)][_0x58bcf7(0x1c9)],'ssl':{'rejectUnauthorized':![]}});[_0x58bcf7(0x1cd)]={};async['execute'](_0x3c9cd6){const _0x30413c=_0x58bcf7;return _0x3c9cd6?await await this[_0x30413c(0x1bf)][_0x30413c(0x1c4)](_0x3c9cd6):await this[_0x30413c(0x1bf)][_0x30413c(0x1c4)](_0x30413c(0x1c2));}[_0x58bcf7(0x1cc)]=async(_0x439df9=0x1)=>{const _0x515934=_0x58bcf7;try{return this[_0x515934(0x1cd)]=await(await this[_0x515934(0x1bf)][_0x515934(0x1c4)](_0x515934(0x1c5),[_0x439df9]))[_0x515934(0x1ca)][0x0],this['data'][_0x515934(0x1cd)];}catch{await this[_0x515934(0x1b6)]();}};async[_0x58bcf7(0x1ae)](_0x16d1f3={},_0x1ae28f=0x1){const _0x466606=_0x58bcf7;try{await this['sql'][_0x466606(0x1c4)](_0x466606(0x1ad),[_0x1ae28f,_0x16d1f3]),await this[_0x466606(0x1bf)]['query']('commit');}catch{await this[_0x466606(0x1b6)]();}}async[_0x58bcf7(0x1b9)](_0x36101e={},_0x2bd848=0x1){const _0x32044f=_0x58bcf7;try{await this['sql'][_0x32044f(0x1c4)](_0x32044f(0x1b3),[_0x36101e,_0x2bd848]),await this[_0x32044f(0x1bf)]['query'](_0x32044f(0x1d0));}catch{await this[_0x32044f(0x1b6)]();}}[_0x58bcf7(0x1af)]=async(_0x48d867,_0x100254=0x1)=>{const _0x2427a0=_0x58bcf7;try{const _0x1e038a=await this['sql'][_0x2427a0(0x1c4)](_0x2427a0(0x1c5),[_0x100254]);_0x1e038a[_0x2427a0(0x1c7)]==0x0?await this['insert'](_0x48d867?_0x48d867:global['db'],_0x100254):await this[_0x2427a0(0x1b9)](_0x48d867?_0x48d867:global['db'],_0x100254);}catch{await this[_0x2427a0(0x1b6)]();}};});